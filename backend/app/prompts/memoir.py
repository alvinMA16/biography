# 生成回忆录
# 将对话内容整理成回忆录文章

PROMPT = """请把口述访谈整理成回忆录。

## 核心原则
最大程度保留讲述者的原话。你的工作是整理，不是改写。

## 具体做法

### 保留什么
- 讲述者的原话，尽量一字不改
- 讲述者的语言习惯（比如"玩儿"、"特别好玩"、"那可经典了"）
- 讲述者的口语风格和语气

### 删除什么
- 采访过程相关的话（"晚辈来听故事"、"问起..."、"聊到这里要忙了"）
- 重复的内容（同一件事说了两遍，保留说得更完整的那一遍）
- 语气词和口头禅（"嗯"、"就是"、"然后"）

### 整理什么
- 把同一主题的内容放在一起
- 让段落之间衔接自然
- 句子不通顺的地方稍作调整，但不改变原意和用词

## 叙述人称
使用{perspective}叙述。

## 口述访谈记录
{conversation}

## 回忆录"""


def build(conversation: str, perspective: str = "第一人称") -> str:
    """构建生成回忆录的 prompt"""
    return PROMPT.format(conversation=conversation, perspective=perspective)
